% move all configuration stuff into includes file so we can focus on the content
\input{include}


\subtitle{module 12.1: music similarity}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
    % generate title page
	\input{include/titlepage}

    \section[overview]{lecture overview}
        \begin{frame}{introduction}{overview}
            \begin{block}{corresponding textbook section}
                    %\href{http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6331125}{Chapter 8: Musical Genre, Similarity, and Mood} (pp.~156--157)
                    section~12.1
            \end{block}

            \begin{itemize}
                \item   \textbf{lecture content}
                    \begin{itemize}
                        \item   music similarity and its relation to musical genre
                        \item   clustering and visualization of feature space
                    \end{itemize}
                \bigskip
                \item<2->   \textbf{learning objectives}
                    \begin{itemize}
                        \item   describe potential issues with algorithms for measuring music similarity
                        \item   understand common approaches for timbre similarity
                    \end{itemize}
            \end{itemize}
            \inserticon{directions}
        \end{frame}

    \section[intro]{introduction}


        \begin{frame}{audio similarity}{introduction}
            \begin{itemize}
                \item   \textbf{perception} of music similarity
                    \begin{itemize}
                        \item	multi-dimensional (melodic, rhythmic, sound quality, \ldots)
                        \item	user dependent
                        \item	associative, may also depend on editorial data
                        \item	may be context dependent
                    \end{itemize}
                \bigskip
                \item<2->   genres are \textbf{clusters of musical similarity}
                \item<2->[$\Rightarrow$]	genre classification is a \textit{special case} of audio similarity measures
                \item<3->	instead of assigning (genre) labels, the similarity/distance between (pairs) of files is measured
            \end{itemize}
        \end{frame}
        \begin{frame}{music similarity}{introduction}
            \begin{itemize}
                \item	\textbf{commonalities} with genre classification
                    \begin{itemize}
                        \item	similar set of features
                        \item	ambiguous 'ground truth'
                        \item   unclear value/impact of low level and high level features
                    \end{itemize}
                \bigskip
                \item<2->	 \textbf{differences} to genre classification
                    \begin{itemize}
                        %\item	\textit{mood}: often not a classification but regression
                        \item	distance/similarity measure instead of categorical classification
                    \end{itemize}
                \bigskip
                \item<3->	 \textbf{tasks}
                    \begin{itemize}
                        \item   playlist generation
                        \item   music discovery
                    \end{itemize}
            \end{itemize}
        \end{frame}
   \section{approach}         
        \begin{frame}{audio similarity}{approaches}
            \begin{itemize}
                \item   \textbf{standard approach}
                    \begin{itemize}
                        \item   define set of features and aggregate them appropriately
                        \item   use vector distance in latent space as similarity approximation
                    \end{itemize}
                \bigskip
                \item   \textbf{modern approach}
                    \begin{itemize}
                        \item   train 'meaningful' representation (e.g., VAE etc.)
                        \item   use vector distance in latent space as similarity approximation
                    \end{itemize}
            \end{itemize}
        \end{frame}

    \section[visual]{visualization}
        \begin{frame}{audio similarity}{visualization in a 2D space}
            \begin{itemize}
                \item \textbf{problem}
                    \begin{itemize}
                        \item   feature space is high-dimensional
                        \item[$\rightarrow$] cannot be visualized
                    \end{itemize}
                \bigskip
                \item<2-> find \textbf{mapping} to 2D ``preserving'' (high-dimensional) distance metrics
                \item<2->[]     example:
                    \begin{itemize}
                        \item   Self-Organizing Maps
                    \end{itemize}
            \end{itemize}
        \end{frame}
            
        \begin{frame}{audio similarity}{visualization example: SOM 1/2}
            \vspace{-3mm}
                    \begin{enumerate}
                        \item	create a map with 'neurons'
                        \item<1->	train
                                \begin{itemize}
                                    \item	for each training sample find BMU (best matching unit)
                                    \item	adapt BMU and neighbors toward training sample
                                    \begin{equation*}
                                        W_v(t + 1) = W_v(t) + \theta (u, v, t) \alpha(t)\big(D(t) - W_v(t)\big)
                                    \end{equation*}
                                    \begin{footnotesize}
                                        \begin{itemize}
                                            \item	$\theta (u, v, t)$: depends on neighborhood distance from BMU
                                            \item	$\alpha (t)$: learning restraint
                                            \item	$D(t)$ training sample
                                        \end{itemize}
                                    \end{footnotesize}
                                \end{itemize}
                    \end{enumerate}
                    \only<1->{
                    \begin{figure}
                        \centering
                            \includegraphics[scale=.3]{graph/SOM_training}
                    \end{figure}
                    \addreference{\url{https://en.wikipedia.org/wiki/Self-organizing_map}}}
        \end{frame}
        \begin{frame}{audio similarity}{SOM 2/2}
            \vspace{-2mm}
            \begin{figure}
                \centering
                \includegraphics[scale=.28]{graph/som}
            \end{figure}
            \vspace{-10mm}graph from \footfullcite{pampalk_islands_2001}
        \end{frame}
        
    \section[eval]{evaluation}
        \begin{frame}{audio similarity}{evaluation}
            \begin{itemize}
                \item   as the task is not clearly defined, it often can only be indirectly evaluated
                    \begin{itemize}
                        \item   evaluation through genre/artist/album labels
                        \item   evaluation through listening surveys
                        \item   qualitative evaluation (picking pairs of samples and discussing them)
                    \end{itemize}
                \item  lack of ground truth and lack of established metrics 
            \end{itemize}
        \end{frame}
    
    \section{summary}
        \begin{frame}{summary}{lecture content}
            \begin{itemize}
                \item   \textbf{music similarity}
                    \begin{itemize}
                        \item   even less clearly defined than music genre
                    \end{itemize}
                \bigskip
                \item   \textbf{processing steps}
                    \begin{enumerate}
                        \item   extract features
                        \item   define some distance metric in feature space
                    \end{enumerate}
                \bigskip
                \item   \textbf{clustering algorithms}
                    \begin{itemize}
                        \item   work to a certain degree with traditional features
                    \end{itemize}
            \end{itemize}
            \inserticon{summary}
        \end{frame}
\end{document}
