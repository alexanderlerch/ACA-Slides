% move all configuration stuff into includes file so we can focus on the content
\input{include}


\subtitle{Module 9.6: Downbeat and Bar Length Detection}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
    % generate title page
	\input{include/titlepage}

    \section[overview]{lecture overview}
        \begin{frame}{introduction}{overview}
            \begin{block}{corresponding textbook section}
                    %\href{http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6331123}{Chapter 6~---~Temporal Analysis}: pp.~136--137
                    Section~9.6
            \end{block}

            \begin{itemize}
                \item   \textbf{lecture content}
                    \begin{itemize}
                        \item   quick overview of bar length and downbeat detection
                    \end{itemize}
                \bigskip
                \item<2->   \textbf{learning objectives}
                    \begin{itemize}
                        \item   discuss systematic differences between tempo \& bar length detection
                        \item   discuss systematic differences between beat \& downbeat detection
                    \end{itemize}
            \end{itemize}
            \inserticon{directions}
        \end{frame}

    \section[intro]{introduction}
        \begin{frame}{meter \& downbeat detection}{problem statement}
            \begin{itemize}
                \item \textbf{bar length detection}
                    \begin{itemize}
                        \item   detect periodicity of group of strong and weak musical events/beats
                        \item   length typically between 3--7 beats
                    \end{itemize}
                \bigskip
                \item   \textbf{downbeat detection}:
                    \begin{itemize}
                        \item   detect the start location of a bar
                    \end{itemize}
                %\item<2-> problem similar to tempo detection and beat tracking, but on a higher hierarchical level   
            \end{itemize}
        \end{frame}
        
            \begin{frame}{meter \& downbeat detection}{introduction}
                \begin{itemize}
                    \item   relation of \textit{bar length and downbeat} is comparable to relation between \textit{tempo and beat phase}
                    \item   meter and downbeat are on a higher hierarchical level
                \end{itemize}
                \begin{columns}
                \column{.4\linewidth}
                \begin{itemize}
                    \item<2-> extraction can be very similar but on \textit{higher hierarchical level}
                        \begin{enumerate}
                            \item   extraction of novelty function
                            \item   estimation of bar period
                            \item   estimation of downbeat
                        \end{enumerate}
                \end{itemize}
                \column{.6\linewidth}
                    \vspace{-10mm}
                    \only<2->{\figwithmatlab{BeatHierarchy}}
                \end{columns}
            \end{frame}

    \section[meter]{meter detection}
            \begin{frame}{bar length detection}{overview}
                \begin{enumerate}
                    \item	extraction of \textbf{novelty function}
                        \begin{itemize}
                            \item   onset probability (see tempo detection)
                            \item   downbeat-specific (may be genre-dependent)
                                \begin{itemize}
                                    \item   bass onset/low frequency energy increase
                                    \item   harmonic change $\rightarrow$ pitch chroma change
                                    \item   beat and onset match
                                    \item   \ldots
                                \end{itemize}
                        \end{itemize}
                    \smallskip
                    \item<2->	possible: \textbf{quantization to beat or tatum} (downbeat can only be on a beat)
                    \smallskip
                    \item<3->	\textbf{periodicity estimation}
                        \begin{itemize}
                            \item   ACF
                            \item   spectral peak analysis
                            \item   \ldots
                        \end{itemize}
                \end{enumerate}
            \end{frame}
        \section[downbeat]{downbeat detection}
            \begin{frame}{downbeat detection}{overview}
                \begin{itemize}
                    \item	assumption: downbeat is most prominent reoccurring peak in the novelty functions
                        \begin{itemize}
                            \item[$\Rightarrow$]   delta pulse CCF
                            \item   \ldots
                        \end{itemize}
                \end{itemize}
            \end{frame}

    
    \section{summary}
        \begin{frame}{summary}{lecture content}
            \begin{itemize}
                \item   \textbf{bar length detection}
                    \begin{itemize}
                        \item   same principles as tempo detection
                            \begin{itemize}
                                \item   higher hierarchical level (different periodicity freq)
                                \item   modified or additional novelty functions
                            \end{itemize}
                    \end{itemize}
                \bigskip
                \item   \textbf{downbeat detection}
                    \begin{itemize}
                        \item   same principles as beat detection
                            \begin{itemize}
                                \item   higher hierarchical level (different periodicity freq)
                                \item   modified or additional novelty functions
                            \end{itemize}
                    \end{itemize}
            \end{itemize}
            \inserticon{summary}
        \end{frame}
\end{document}
